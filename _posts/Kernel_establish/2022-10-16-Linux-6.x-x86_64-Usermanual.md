---
layout: post
title:  "BiscuitOS Linux 6.X x86_64 Usermanual"
date:   2019-05-06 14:45:30 +0800
categories: [Build]
excerpt: Linux 6.0 x86_64 Usermanual.
tags:
  - Linux
---

![](/assets/PDB/BiscuitOS/kernel/IND00000L0.PNG)

![](/assets/PDB/RPI/RPI100100.png)

#### ç›®å½•

> - [BiscuitOS åŸºç¡€ç¯å¢ƒéƒ¨ç½²](#A)
>
> - [BiscuitOS å†…æ ¸éƒ¨ç½²](#C)
>
> - [BiscuitOS é©±åŠ¨éƒ¨ç½²](#E)
>
> - [BiscuitOS åº”ç”¨ç¨‹åºéƒ¨ç½²](#F)
>
> - [BiscuitOS è°ƒè¯•éƒ¨ç½²](#G)
>
> - [é™„å½•/æèµ ](#Z)

![](/assets/PDB/BiscuitOS/kernel/IND000100.png)

------------------------------------------

<span id="A"></span>

![](/assets/PDB/BiscuitOS/kernel/IND00000L0.PNG)

##### BiscuitOS ç¡¬ä»¶å‡†å¤‡

![](/assets/PDB/HK/Ubuntu2004.jpg)

å¼€å‘è€…é¦–å…ˆå‡†å¤‡ä¸€å°ä¸»æœºæˆ–ç”µè„‘ï¼ŒCPU æœ€å¥½æ˜¯ Intel CPUã€‚å¯ä»¥é€‰æ‹©å®‰è£… Ubuntu ç³»ç»Ÿï¼Œæˆ–è€…é‡‡ç”¨ Windows+VirtualBox è™šæ‹Ÿæœºæ–¹æ¡ˆã€‚ç”±äºé¡¹ç›®æ„å»ºåŸºäº Ubuntuï¼Œå› æ­¤éœ€è¦å‡†å¤‡ä¸€å°è¿è¡Œ Ubuntu 14.04/16.04/18.04/20.04/22.04 çš„ä¸»æœº(æ¨èä½¿ç”¨ Ubuntu20.04)ã€‚ç”±äºç¬¬ä¸€æ¬¡éƒ¨ç½²éœ€è¦ä¸‹è½½ç›¸å…³çš„æºç åŒ…ï¼Œå› æ­¤ä¸»æœºéœ€è¦ä¿æŒç½‘ç»œçš„è¿é€š.

##### BiscuitOS è½¯ä»¶å‡†å¤‡

å¼€å‘è€…å‡†å¥½ç¡¬ä»¶è®¾å¤‡ä¹‹åï¼Œé¦–å…ˆåœ¨ Ubuntu ä¸Šå®‰è£…ç›¸åº”çš„å¼€å‘å·¥å…·ï¼Œè¿™äº›å·¥å…·æ˜¯ç¼–è¯‘æºç çš„å‰æï¼Œå¦‚æœä¸å®‰è£…å¯èƒ½ä¼šå¯¼è‡´éƒ¨ç½²å¤±è´¥ï¼Œåè€Œå½±å“è¿›åº¦ï¼Œå› æ­¤æ¨èå¼€å‘è€…å‚è€ƒä¸‹é¢æ–‡æ¡£è¿›è¡Œå®‰è£…ï¼Œå…¶ä»– Linux å‘è¡Œç‰ˆä¸ä¹‹ç±»ä¼¼:

> - [BiscuitOS åŸºç¡€å¼€å‘å·¥å…·å®‰è£…æŒ‡å—](/blog/Develop_tools)

åŸºç¡€ç¯å¢ƒæ­å»ºå®Œæ¯•ä¹‹åï¼Œå¼€å‘è€…ä» GitHub/Gitee ä¸Šè·å– BiscuitOS é¡¹ç›®æºç (å›½å†…å¼€å‘è€…å»ºè®®ä» Gitee ä¸Šè·å¾—æºç )ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤:

{% highlight bash %}
# From Github
git clone https://github.com/BiscuitOS/BiscuitOS.git --depth=1
# From Gitee
git clone https://gitee.com/BiscuitOS_team/BiscuitOS.git --depth=1
cd BiscuitOS
{% endhighlight %}

BiscuitOS æºç ä¸‹è½½å®Œæ¯•åï¼Œä½¿ç”¨ BiscuitOS è‡ªåŠ¨éƒ¨ç½²åŠŸèƒ½ï¼Œéƒ¨ç½²ä¸€ä¸ª Linux 6.0 x86_64 çš„å¼€å‘éƒ¨ç½²ï¼Œä½¿ç”¨è‡ªåŠ¨éƒ¨ç½²åŠŸèƒ½ä¹‹åï¼ŒBiscuitOS é¡¹ç›®ä¼šè‡ªåŠ¨ä¸‹è½½å¹¶éƒ¨ç½² Linux 6.0 x86_64 æ‰€éœ€çš„æºç å’Œç¼–è¯‘å·¥å…·ç­‰ï¼Œå¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´ï¼Œè¯·ä¿æŒç½‘ç»œçš„é€šç•…. å¼€å‘è€…å‚è€ƒä¸‹é¢å‘½ä»¤è¿›è¡Œéƒ¨ç½²:

{% highlight bash %}
cd BiscuitOS
make linux-6.0-x86_64_defconfig
make
cd BiscuitOS/output/linux-6.0-x86_64
{% endhighlight %}

æˆåŠŸæ‰§è¡Œä¹‹åï¼ŒBiscuitOS è¾“å‡º Linux 6.0 x86_64 é¡¹ç›®ç›®å½•ï¼Œä»¥åŠå¯¹åº”å†…æ ¸çš„ç›®å½•ï¼Œå¹¶ä¸”è‡ªåŠ¨ç”Ÿæˆ BiscuitOS Linux 6.0 x86_64 ç”¨æˆ·æ‰‹å†Œ (README)ï¼Œå¼€å‘è€…åº”è¯¥é‡ç‚¹å‚è€ƒè¯¥ README.md.

![](/assets/PDB/HK/TH002355.png)

![](/assets/PDB/BiscuitOS/kernel/IND000100.png)

------------------------------------------

<span id="C"></span>

![](/assets/PDB/BiscuitOS/kernel/IND00000P.jpg)

##### Linux å†…æ ¸é…ç½®

å¯¹äºå†…æ ¸é…ç½®ï¼Œæ ¹æ® README.md çš„æç¤º(å®é™…æƒ…å†µä»¥ README.md ä¸ºå‡†)ï¼Œé…ç½®å†…æ ¸å¯ä»¥å‚è€ƒå¦‚ä¸‹å‘½ä»¤:

{% highlight bash %}
cd BiscuitOS/output/linux-6.0-x86_64/linux/linux
make ARCH=x86_64 clean
make ARCH=x86_64 x86_64_defconfig
make ARCH=x86_64 menuconfig

  Device Drivers --->
        [*] Virtio drivers --->
            <*> PCI driver for virtio devices
        [*] Block devices --->
            <*> Virtio block driver
{% endhighlight %}

##### Linux å†…æ ¸ç¼–è¯‘

å†…æ ¸é…ç½®å®Œæ¯•ä¹‹åï¼Œæ¥ä¸‹æ¥å°±æ˜¯ç¼–è¯‘å†…æ ¸ï¼Œæ ¹æ® README.md é‡Œæä¾›çš„å‘½ä»¤è¿›è¡Œç¼–è¯‘ï¼Œå…·ä½“å‘½ä»¤å¦‚ä¸‹:

{% highlight bash %}
cd BiscuitOS/output/linux-6.0-x86_64/linux/linux
make ARCH=x86_64 bzImage -j4
make ARCH=x86_64 modules -j4
{% endhighlight %}

##### Busybox/Rootfs åˆ¶ä½œ

ä¸ºäº†ä½¿ BiscuitOS èƒ½å¤Ÿè¿è¡Œï¼Œå¼€å‘è€…éœ€è¦ä¸º BiscuitOS å‡†å¤‡è¿è¡Œå¿…å¤‡çš„å·¥å…·ï¼ŒBiscuitOS é»˜è®¤ä½¿ç”¨ busybox è¿›è¡Œç³»ç»Ÿ rootfs çš„æ„å»ºï¼Œå¼€å‘è€…å¯ä»¥å‚è€ƒå¦‚ä¸‹å‘½ä»¤è¿›è¡Œæ„å»º:

{% highlight bash %}
cd BiscuitOS/output/linux-6.0-x86_64/busybox/busybox
make clean
make menuconfig
   Busybox Settings --->
     Build Options --->
       [*] Build Busybox as a static binary (no shared libs)
{% endhighlight %}

![](/assets/PDB/BiscuitOS/kernel/BUDX000003.png)
![](/assets/PDB/BiscuitOS/kernel/BUDX000004.png)
![](/assets/PDB/RPI/RPI000533.png)

{% highlight bash %}
# ç¼–è¯‘ Busybox
make -j4
# å®‰è£… Busybox
make install
{% endhighlight %}

ç¼–è¯‘å®Œä¸Šé¢çš„å·¥å…·å’Œ Linux ä¹‹åï¼Œè¿è¡Œå‰çš„æœ€åä¸€æ­¥å°±æ˜¯åˆ¶ä½œä¸€ä¸ªå¯è¿è¡Œçš„ Rootfsã€‚å¼€å‘è€…å¯ä»¥ä½¿ç”¨ README ä¸­æä¾›çš„å‘½ä»¤è¿›è¡Œåˆ¶ä½œï¼Œå¦‚ä¸‹:

{% highlight bash %}
cd BiscuitOS/output/linux-6.0-x86_64
./RunBiscuitOS.sh pack
{% endhighlight %}

##### BiscuitOS åŸºç¡€ä½¿ç”¨

åœ¨å‡†å¤‡å®Œå„ä¸ªæ¨¡å—ä¹‹åï¼Œå¼€å‘è€…å®Œæˆæœ¬èŠ‚çš„å†…å®¹ä¹‹åï¼Œå°±å¯ä»¥è¿è¡Œä¸€ä¸ªå®Œæ•´çš„ BiscuitOS ç³»ç»Ÿ. BiscuitOS çš„è¿è¡Œå¾ˆç®€å•ï¼Œé€šè¿‡æä¾› RunBiscuitOS.sh è„šæœ¬å°†æ¶‰åŠçš„å¯åŠ¨å‘½ä»¤å…¨éƒ¨æ•´ç†åŒ…å«æˆç²¾ç®€çš„å‘½ä»¤ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡æŸ¥çœ‹ RunBiscuitOS.sh è„šæœ¬é€»è¾‘æ¥ç ”ç©¶ BiscuitOS è¿è¡Œæœºç†. BiscuitOS çš„è¿è¡Œå¾ˆç®€å•ï¼Œå¼€å‘è€…æ‰§è¡Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å³å¯:

{% highlight bash %}
cd BiscuitOS/output/linux-6.0-x86_64
./RunBiscuitOS.sh
{% endhighlight %}

![](/assets/PDB/RPI/RPI000534.png)

![](/assets/PDB/BiscuitOS/kernel/IND000100.png)

------------------------------------------

<span id="E"></span>

![](/assets/PDB/BiscuitOS/kernel/IND00000M.jpg)

#### BiscuitOS é©±åŠ¨éƒ¨ç½²

BiscuitOS æ”¯æŒ "BiscuitOS é©±åŠ¨æ¡†æ¶éƒ¨ç½²" å’Œ "å†…æ ¸é©±åŠ¨éƒ¨ç½²" ä¸¤ç§æ–¹å¼è¿›è¡Œ Linux é©±åŠ¨å¼€å‘ã€‚"BiscuitOS é©±åŠ¨æ¡†æ¶éƒ¨ç½²" æ˜¯ BiscuitOS æä¾›çš„ä¸€å¥—å¿«é€Ÿé©±åŠ¨å¼€å‘æ¡†æ¶. "å†…æ ¸é©±åŠ¨éƒ¨ç½²" æ˜¯æ ‡å‡† Linux æºç æ ‘ä¸‹å†…æ ¸é©±åŠ¨å¼€å‘æ¡†æ¶ã€‚å¼€å‘è€…å¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹©é©±åŠ¨å¼€å‘æ–¹å¼.

> - [å†…æ ¸é©±åŠ¨éƒ¨ç½²](#E1)
>
> - [BiscuitOS é©±åŠ¨æ¡†æ¶éƒ¨ç½²](#E0)

![](/assets/PDB/BiscuitOS/kernel/IND000100.png)

------------------------------------------

<span id="E0"></span>

![](/assets/PDB/BiscuitOS/kernel/IND00000P.jpg)

##### BiscuitOS é©±åŠ¨æ¡†æ¶éƒ¨ç½²

BiscuitOS ä»¥åŠå®Œæ•´æ”¯æŒé©±åŠ¨å¼€å‘ä½“ç³»ï¼Œå¹¶åŸºäº Kbuild ç¼–è¯‘ç³»ç»Ÿï¼Œåˆ¶ä½œäº†ä¸€å¥—ä¾¿æ·çš„é©±åŠ¨å¼€å‘ç¯å¢ƒï¼Œå¼€å‘è€…å¯ä»¥å‚è€ƒå¦‚ä¸‹æ­¥éª¤è¿›è¡Œå¿«é€Ÿå¼€å‘ï¼Œæœ¬æ¬¡ä»¥ä¸€ä¸ª MISC é©±åŠ¨ä¸ºä¾‹è¿›è¡Œè®²è§£ã€‚

> - [MISC æºç è·å–](#E00)
>
> - [MISC æºç ç¼–è¯‘è¿è¡Œ](#E01)

![](/assets/PDB/BiscuitOS/kernel/IND000100.png)

--------------------------------------------

##### <span id="E00">MISC æºç è·å–</span>

é¦–å…ˆå¼€å‘è€…åº”è¯¥å‡†å¤‡åŸºäº Linux 6.0 x86_64 å¼€å‘ç¯å¢ƒï¼Œç„¶åä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è·å¾— Platform æ‰€éœ€çš„å¼€å‘ç¯å¢ƒï¼š

{% highlight bash %}
cd BiscuitOS
make linux-6.0-x86_64_defconfig
make menuconfig

    [*] Package --->
        [*] BiscuitOS Demo Code -->
            [*] MISC-DD Demo Code on BiscuitOS -->

# ç¼–è¯‘ç”Ÿæ•ˆ
cd BiscuitOS
make
# æºç ç›®å½•
BiscuitOS/output/linux-6.0-x86_64/package/BiscuitOS-MISC-default
{% endhighlight %}

![](/assets/PDB/HK/TH002358.png)
![](/assets/PDB/HK/TH002356.png)
![](/assets/PDB/HK/TH002357.png)

![](/assets/PDB/BiscuitOS/kernel/IND000100.png)

-----------------------------------------------

##### <span id="E01">MISC æºç ç¼–è¯‘è¿è¡Œ</span>

MISC çš„ç¼–è¯‘å¾ˆç®€å•ï¼Œåªéœ€æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å°±å¯ä»¥å¿«é€Ÿç¼–è¯‘:

{% highlight bash %}
cd BiscuitOS/output/linux-6.0-x86_64/package/BiscuitOS-MISC-default
make prepare
make download
make
make install
make pack
make run
{% endhighlight %}

è¿è¡Œ BiscuitOS ä¹‹åï¼Œåœ¨ BiscuitOS ä¸Šä½¿ç”¨å¦‚ä¸‹å‘½ä»¤:

{% highlight bash %}
# å®‰è£…æ¨¡å—
insmod lib/modules/$(uname -r)/extra/BiscuitOS-MISC-default.ko
# è¿è¡Œåº”ç”¨ç¨‹åº
APP
{% endhighlight %}

![](/assets/PDB/HK/TH002359.png)

![](/assets/PDB/BiscuitOS/kernel/IND000100.png)

------------------------------------------

<span id="E1"></span>

![](/assets/PDB/BiscuitOS/kernel/IND00000W.jpg)

#### é€šç”¨é©±åŠ¨å¼€å‘

é€šç”¨é©±åŠ¨å¼€å‘æ¨¡å¼å°±æ˜¯æŒ‰æ ‡å‡†çš„å†…æ ¸é©±åŠ¨å¼€å‘æ–¹å¼ï¼Œå°†é©±åŠ¨æ”¾åˆ°å†…æ ¸
æºç æ ‘å†…æˆ–è€…æºç æ ‘ä¹‹å¤–è¿›è¡Œå¼€å‘ï¼Œè¿™é‡Œä»¥å†…æ ¸æºç æ ‘å†…å¼€å‘ä¸ºä¾‹:

> - [é©±åŠ¨æºç ](#E10)
>
> - [é©±åŠ¨å®‰ç½®](#E11)
>
> - [é©±åŠ¨é…ç½®](#E12)
>
> - [é©±åŠ¨ç¼–è¯‘](#E13)
>
> - [é©±åŠ¨å®‰è£…](#E14)
>
> - [é©±åŠ¨ä½¿ç”¨](#E15)

![](/assets/PDB/BiscuitOS/kernel/IND000100.png)

------------------------------------------

<span id="E10"></span>

![](/assets/PDB/BiscuitOS/kernel/IND00000J.jpg)

##### é©±åŠ¨æºç 

å¼€å‘è€…é¦–å…ˆå‡†å¤‡ä¸€ä»½é©±åŠ¨æºç ï¼Œå¯ä»¥æ“ä½œå¦‚ä¸‹æºç ï¼Œæœ¬èŠ‚ä¸­ä½¿ç”¨ä¸€ä»½ misc é©±åŠ¨ï¼Œå¹¶å‘½åä¸º BiscuitOS_drv.cï¼Œå…·ä½“æºç å¦‚ä¸‹ï¼š

![](/assets/PDB/RPI/RPI000056.PNG)

![](/assets/PDB/BiscuitOS/kernel/IND000100.png)

------------------------------------------

<span id="E11"></span>

![](/assets/PDB/BiscuitOS/kernel/IND00000L.jpg)

##### é©±åŠ¨å®‰ç½®

å¼€å‘è€…å‡†å¤‡å¥½æºç ä¹‹åï¼Œæ¥ç€å°†æºç æ·»åŠ åˆ°å†…æ ¸æºç æ ‘ã€‚å¼€å‘è€…åœ¨å†…æ ¸æºç æ ‘ç›®å½•ä¸‹ï¼Œæ‰¾åˆ° drivers ç›®å½•ï¼Œç„¶ååœ¨ drivers ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º BiscuitOS çš„ç›®å½•ï¼Œç„¶åå°†æºç  BiscuitOS_drv.c æ”¾å…¥åˆ° BiscuitOS ç›®å½•ä¸‹ã€‚æ¥ç€æ·»åŠ  Kconfig å’Œ Makefile æ–‡ä»¶ï¼Œå…·ä½“å†…å®¹å¦‚ä¸‹ï¼š

{% highlight bash %}
mkdir -p BiscuitOS/output/linux-6.0-x86_64/linux/linux/drivers/BiscuitOS
{% endhighlight %}

###### **Kconfig**

![](/assets/PDB/HK/HK000450.png)

###### **Makefile**

![](/assets/PDB/HK/HK000451.png)

æ¥ç€ä¿®æ”¹å†…æ ¸æºç æ ‘ drivers ç›®å½•ä¸‹çš„ Kconfigï¼Œåœ¨æ–‡ä»¶çš„é€‚å½“ä½ç½®åŠ ä¸Šå¦‚ä¸‹ä»£ç :

{% highlight bash %}
source "drivers/BiscuitOS/Kconfig"
{% endhighlight %}

ç„¶åä¿®æ”¹å†…æ ¸æºç æ ‘ drivers ç›®å½•ä¸‹çš„ Makefileï¼Œåœ¨æ–‡ä»¶çš„æœ«å°¾ä¸ŠåŠ ä¸Šå¦‚ä¸‹ä»£ç :

{% highlight bash %}
obj-$(CONFIG_BISCUITOS_DRV)  += BiscuitOS/
{% endhighlight %}

![](/assets/PDB/BiscuitOS/kernel/IND000100.png)

------------------------------------------

<span id="E12"></span>

![](/assets/PDB/BiscuitOS/kernel/IND00000Z.jpg)

##### é©±åŠ¨é…ç½®

å‡†å¤‡å¥½æ‰€éœ€çš„æ–‡ä»¶ä¹‹åï¼Œæ¥ä¸‹æ¥è¿›è¡Œé©±åŠ¨åœ¨å†…æ ¸æºç æ ‘ä¸­çš„é…ç½®ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤:

{% highlight bash %}
cd BiscuitOS/output/linux-6.0-x86_64/linux/linux
make ARCH=x86_64 menuconfig

  Device Drivers --->
     <M> BiscuitOS Driver --->
         <M> BiscuitOS misc driver
{% endhighlight %}

![](/assets/PDB/BiscuitOS/kernel/BUDX000337.png)
![](/assets/PDB/BiscuitOS/kernel/BUDX000338.png)
![](/assets/PDB/BiscuitOS/kernel/BUDX000339.png)

![](/assets/PDB/BiscuitOS/kernel/IND000100.png)

------------------------------------------

<span id="E13"></span>

![](/assets/PDB/BiscuitOS/kernel/IND00000Z.jpg)

##### é©±åŠ¨ç¼–è¯‘

é…ç½®å®Œé©±åŠ¨ä¹‹åï¼Œæ¥ä¸‹æ¥å°†ç¼–è¯‘é©±åŠ¨ã€‚å¼€å‘è€…ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ç¼–è¯‘é©±åŠ¨:

{% highlight bash %}
make ARCH=x86_64 modules -j4
make ARCH=x86_64 INSTALL_MOD_PATH=BiscuitOS/output/linux-6.0-x86_64/rootfs/rootfs/ modules_install
{% endhighlight %}

![](/assets/PDB/BiscuitOS/kernel/BUDX000100.jpg)

ä»ç¼–è¯‘çš„ log å¯ä»¥çœ‹å‡º BiscuitOS_drv.c å·²ç»è¢«ç¼–è¯‘è¿›å†…æ ¸ã€‚

![](/assets/PDB/BiscuitOS/kernel/IND000100.png)

------------------------------------------

<span id="E14"></span>

![](/assets/PDB/BiscuitOS/kernel/IND00000X.jpg)

##### é©±åŠ¨å®‰è£…

é©±åŠ¨å®‰è£…åˆ¶ä½œå¾ˆç®€å•ï¼Œè¯·å‚è€ƒå¦‚ä¸‹å‘½ä»¤:

{% highlight bash %}
cd BiscuitOS/output/linux-6.0-x86_64
./RunBiscuitOS.sh pack
{% endhighlight %}

-----------------------------------------------

##### <span id="E15">é©±åŠ¨ä½¿ç”¨</span>

æ¨¡å—çš„ä½¿ç”¨ä¹Ÿå¾ˆç®€å•ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤:

{% highlight bash %}
cd BiscuitOS/output/linux-6.0-x86_64/
./RunBiscuitOS.sh
{% endhighlight %}

è¿è¡Œ BiscuitOS ä¹‹åï¼Œåœ¨ BiscuitOS ä¸Šä½¿ç”¨å¦‚ä¸‹å‘½ä»¤:

{% highlight bash %}
cd lib/modules/6.0.0/kernel/driver/BiscuitOS/
insmod misc.ko
{% endhighlight %}

![](/assets/PDB/BiscuitOS/kernel/IND000100.png)

------------------------------------------

<span id="F"></span>

![](/assets/PDB/BiscuitOS/kernel/IND00000F.jpg)

#### BiscuitOS åº”ç”¨ç¨‹åºéƒ¨ç½²

BiscuitOS ç›®å‰æä¾›äº†ä¸€å¥—ä¾¿æ·çš„åº”ç”¨ç¨‹åºå¼€å‘æ¡†æ¶ï¼Œå¼€å‘è€…å¯ä»¥ä½¿ç”¨è¿™å¥—æ¡†æ¶å¿«é€Ÿå®è·µåº”ç”¨ç¨‹åºï¼Œå¼€å‘è€…å¯ä»¥å‚è€ƒå¦‚ä¸‹æ­¥éª¤è¿›è¡Œåº”ç”¨ç¨‹åºå®è·µ, æœ¬æ¬¡ä»¥ä¸€ä¸ª Application Demo ä¸ºä¾‹è¿›è¡Œè®²è§£ã€‚

> - [åº”ç”¨ç¨‹åºæºç è·å–](#F00)
>
> - [åº”ç”¨ç¨‹åºæºç ç¼–è¯‘ä¸è¿è¡Œ](#F01)
>
> - [BiscuitOS åº”ç”¨ç¨‹åºå¼€å‘åˆé›†](/blog/APP-Usermanual/)

![](/assets/PDB/BiscuitOS/kernel/IND000100.png)

--------------------------------------------

##### <span id="F00">åº”ç”¨ç¨‹åºæºç è·å–</span>

é¦–å…ˆå¼€å‘è€…åº”è¯¥å‡†å¤‡åŸºäº Linux 6.0 x86_64 å¼€å‘ç¯å¢ƒï¼Œç„¶åä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è·å¾—åº”ç”¨ç¨‹åºæ‰€éœ€çš„å¼€å‘ç¯å¢ƒ:

{% highlight bash %}
cd BiscuitOS
make linux-6.0-x86_64_defconfig
make menuconfig

    [*] Package --->
        [*] BiscuitOS Demo Code -->
            [*] MISC-DD Demo Code on BiscuitOS -->

# ç¼–è¯‘ç”Ÿæ•ˆ
cd BiscuitOS
make
# æºç ç›®å½•
BiscuitOS/output/linux-6.0-x86_64/package/BiscuitOS-Application-default
{% endhighlight %}

![](/assets/PDB/HK/TH002358.png)
![](/assets/PDB/HK/TH002356.png)
![](/assets/PDB/HK/TH002360.png)

![](/assets/PDB/BiscuitOS/kernel/IND000100.png)

----------------------------------

##### <span id="F01">åº”ç”¨ç¨‹åºæºç ç¼–è¯‘å’Œè¿è¡Œ</span>

åº”ç”¨ç¨‹åºçš„ç¼–è¯‘å¾ˆç®€å•ï¼Œåªéœ€æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å°±å¯ä»¥å¿«é€Ÿç¼–è¯‘:

{% highlight bash %}
cd BiscuitOS/output/linux-6.0-x86_64/package/BiscuitOS-Application-default
make prepare
make download
make
make install
make pack
make run
{% endhighlight %}

![](/assets/PDB/HK/TH002361.png)

BiscuitOS è¿è¡Œä¹‹åæ‰§è¡Œ BiscuitOS-Application-default å‘½ä»¤å³å¯è¿è¡Œç¨‹åº.

![](/assets/PDB/BiscuitOS/kernel/IND000100.png)

------------------------------------------

<span id="G"></span>

![](/assets/PDB/BiscuitOS/kernel/IND00000T.jpg)

#### BiscuitOS è°ƒè¯•éƒ¨ç½²

BiscuitOS çš„ Linux å†…æ ¸ä¹Ÿæ”¯æŒå¤šç§è°ƒè¯•ï¼Œå…¶ä¸­æ¯”è¾ƒé‡è¦çš„æ–¹å¼å°±æ˜¯ GDB è°ƒè¯•ï¼Œå¼€å‘è€…å¯ä»¥ä½¿ç”¨ GDB å¯¹å†…æ ¸è¿›è¡Œå•æ­¥è°ƒè¯•ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹:

é¦–å…ˆä½¿ç”¨ QEMU çš„è°ƒè¯•å·¥å…·ï¼Œå°†å†…æ ¸æŒ‚èµ·ç­‰å¾…è°ƒè¯•ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤:

{% highlight bash %}
cd BiscuitOS/output/linux-6.0-x86_64
./RunBiscuitOS.sh debug
{% endhighlight %}

æ¥ç€åœ¨å¦å¤–ä¸€ä¸ªç»ˆç«¯ä¸­è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼Œä½œä¸º gdb server

{% highlight bash %}
gdb BiscuitOS/output/linux-6.0-x86_64/linux/linux/vmlinux
{% endhighlight %}

è¾“å…¥ä»¥ä¸Šå‘½ä»¤ä¹‹åï¼Œåœ¨ç¬¬äºŒä¸ªç»ˆç«¯ä¸­ï¼Œä¼šè¿›å…¥ gdb æ¨¡å¼ï¼Œæ­¤æ—¶ä»¥æ­¤è¾“å…¥ä¸€ä¸‹å‘½åè¿›è¡Œ
gdb æŒ‚è½½ï¼š

{% highlight bash %}
(gdb) target remote :1234
{% endhighlight %}

ç„¶åå¼€å‘è€…å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚è¿›è¡Œå†…æ ¸è°ƒè¯•ï¼Œæ¯”å¦‚åœ¨ start_kernel å‡ºæ·»åŠ 
ä¸€ä¸ªæ–­ç‚¹è°ƒè¯•ï¼Œå¦‚ä¸‹:

{% highlight bash %}
(gdb) b start_kernel
(gdb) c
(gdb) list
(gdb) info reg
{% endhighlight %}

æ›´å¤šå†…æ ¸è°ƒè¯•ï¼Œè¯·æŸ¥è€ƒæ–‡æ¡£:

> - [BiscuitOS è°ƒè¯•](/blog/BiscuitOS_Catalogue/#Debug)

![](/assets/PDB/BiscuitOS/kernel/IND000100.png)

-----------------------------------------------

###### <span id="Z">é™„å½•</span>

> [BiscuitOS Home](https://biscuitos.github.io/)
>
> [BiscuitOS Catalogue](/blog/BiscuitOS_Catalogue/)
>
> [Linux Kernel](https://www.kernel.org/)
>
> [Bootlin: Elixir Cross Referencer](https://elixir.bootlin.com/linux/latest/source)

###### æèµ ä¸€ä¸‹å§ ğŸ™‚

![MMU](/assets/PDB/BiscuitOS/kernel/HAB000036.jpg)
